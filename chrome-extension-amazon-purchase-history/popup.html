<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Amazon Purchase History Extractor</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <h1>Amazon購入履歴抽出</h1>

        <div class="status-section">
            <p><strong>現在のページ:</strong> <span id="current-url">確認中...</span></p>
            <p><strong>抽出状況:</strong> <span id="extraction-status">待機中</span></p>
        </div>

        <div class="control-section">
            <button id="extract-btn" class="primary-btn">購入履歴を抽出</button>
            <button id="view-data-btn" class="secondary-btn">抽出データを表示</button>
            <button id="view-network-btn" class="secondary-btn">ネットワークデータを表示</button>
            <button id="export-btn" class="secondary-btn">JSONでエクスポート</button>
            <button id="clear-btn" class="danger-btn">データをクリア</button>
        </div>

        <div class="stats-section">
            <h3>統計情報</h3>
            <p><strong>保存済み注文数:</strong> <span id="orders-count">0</span></p>
            <p><strong>最後の抽出:</strong> <span id="last-extracted">未実行</span></p>
        </div>

        <div class="data-section" id="data-section" style="display: none;">
            <h3>抽出データ</h3>
            <div id="orders-list"></div>
        </div>

        <div class="data-section" id="network-section" style="display: none;">
            <h3>ネットワークデータ (生データ)</h3>
            <div class="network-controls">
                <button id="refresh-network-btn" class="secondary-btn">更新</button>
                <button id="clear-network-btn" class="danger-btn">ネットワークデータをクリア</button>
            </div>
            <div id="network-list"></div>
        </div>

        <div class="instructions">
            <h3>使用方法</h3>
            <ol>
                <li>Amazonの注文履歴ページに移動</li>
                <li>「購入履歴を抽出」ボタンをクリック</li>
                <li>すべてのページを閲覧して履歴を収集</li>
                <li>「抽出データを表示」で結果確認</li>
            </ol>
        </div>
    </div>
    <script src="popup.js"></script>
</body>
</html>